<!DOCTYPE html>
<html>
<head>
    <title>Booking System</title>
    <link rel="stylesheet" href="teststylesheet.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="https://pawsey.org.au/wp-content/themes/project/img/pawsey-logo-beige.png" alt="Pawsey Logo" class="logo">
            <h1>Booking System</h1>
        </header>
        <main>
            <form method="post" action="booking_conf.php">
                <div class="form-group">
                    <label for="date">Select a date:</label>
                    <input type="date" id="date" name="date" required>
                </div>
                <div class="form-group">
                    <label for="start_time">Start time:</label>
                    <input type="time" id="start_time" name="start_time" required>
                </div>
                
                <input type="submit" value="Book" class="submit-button">
            </form>
            <?php
            if ($_SERVER["REQUEST_METHOD"] == "POST") {
                $date = $_POST['date'];
                $start_time = $_POST['start_time'];
                $end_time = $_POST['end_time'];

                // Convert times to datetime objects for comparison
                $start = new DateTime($start_time);
                $end = new DateTime($end_time);
                $interval = $start->diff($end);

                // Check if the time difference is within 2 hours
                if ($interval->h < 2 || ($interval->h == 2 && $interval->i == 0)) {
                    echo "<p class='success'>Booking successful for $date from $start_time to $end_time.</p>";
                } else {
                    echo "<p class='error'>Error: The time window should be up to 2 hours.</p>";
                }
            }
            ?>
			<br><a href="index.php">Return</a>
        </main>
    </div>
</body>
</html>